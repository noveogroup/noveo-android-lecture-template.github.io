<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Kotlin Lecture</title>

    <link rel="stylesheet" href="css/reveal.css">                    <!--slide style-->
    <link rel="stylesheet" href="css/theme/noveo.css" id="theme">    <!--noveo theme-->
    <link rel="stylesheet" href="lib/css/magula.css">                <!--code highlight-->

    <style>
        .red {
            color: #ff2c2d
        }
        .bg-red {
            background-color: #ff2c2d
        }
        .bg-green {
            background-color: #17ff2e
        }
        .bg-blue {
            background-color: #1b91ff
        }
    </style>

</head>
<body>
<div id="hidden" style="display: none">
    <div id="overlay">
        <div id="header-left"></div>
        <div id="header-right"></div>
        <div id="footer-right"></div>
    </div>
</div>
<div class="reveal">
    <div class="slides">
        <section data-background-size="16.2em 15.5em"
                 data-background-color="#fff"
                 data-background-image="css/theme/img/background_title.svg"
                 data-background-position="right bottom"
                 class="center noveo-title"
                 data-transition="convex">
            <h1>Kotlin — часть 1, синтаксис</h1>
            <hr class="title-separator"/>

            <h2>автор:</h2>

            Александр Вайцеховский
        </section>
        <section>
            <div>
                <h1 style="text-align:center">Введение</h1>
                <b>Kotlin – </b> Статически типизированный объектно-ориентированный язык программирования.
                <ul>
                    <li>язык общего назначения</li>
                    <li>работает поверх JVM</li>
                    <li>совместим с Java</li>
                    <li>может компилироваться в другие языки</li>
                    <li>позиционируется как замена Java</li>
                    <li>разрабатывается JetBrains и хорошо поддерживается в IDE</li>
                </ul>
            </div>
        </section>
        <section>
            <div>
                <h2>Что необходимо для старта</h2>
                <ul>
                    <li class="fragment" data-fragment-index="2"><a href="https://www.jetbrains.com/idea/" target="_blank">Intelij Idea IDE</a></li>
                    <li class="fragment" data-fragment-index="1"><a
                            href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank">JDK 8</a></li>
                </ul>
            </div>
        </section>
        <section>
            <div>
                <h1>План</h1>
                <ol>
                    <li>Синтаксис языка</li>
                    <li>Строки</li>
                    <li>Null safety</li>
                    <li>Функции и методы</li>
                    <li>Классы</li>
                    <li>Наследование</li>
                    <li>Лямбды</li>
                    <li>Коллекции</li>
                    <li>Циклы</li>
                </ol>
            </div>
        </section>
        <section>
            <h2>Hello, world!</h2>
            <pre><code data-trim data-noescape>
                package com.noveogroup.hello;

                public class HelloWorldClass {
                    public static void main(String[] args) {
                        System.out.println("Hello world");
                    }
                }
            </code></pre>
        </section>
        <section>
            <h2>Методы</h2>
            <pre><code data-trim data-noescape>
                public int getValue(ind id, String name) {
                    ...
                }
            </code></pre>
            <p class="fragment red" data-fragment-index="1">Модификаторы доступа:</p>
            <ul>
                <li class="fragment" data-fragment-index="1">public</li>
                <li class="fragment" data-fragment-index="2">protected</li>
                <li class="fragment" data-fragment-index="3">private</li>
                <li class="fragment" data-fragment-index="4">default</li>
            </ul>
        </section>
        <section>
            <h2>Типы данных</h2>
            <div class="half-left">
                <h5 class="fragment" data-fragment-index="1">Примитивные</h5>
                <ul>
                    <li class="fragment" data-fragment-index="1">byte</li>
                    <li class="fragment" data-fragment-index="1">short</li>
                    <li class="fragment" data-fragment-index="1">int</li>
                    <li class="fragment" data-fragment-index="1">long</li>
                    <li class="fragment" data-fragment-index="2">float</li>
                    <li class="fragment" data-fragment-index="2">double</li>
                    <li class="fragment" data-fragment-index="3">boolean</li>
                    <li class="fragment" data-fragment-index="4">char</li>
                </ul>
            </div>
            <div class="half-right">
                <h5 class="fragment" data-fragment-index="5">Ссылочные</h5>
                <ul>
                    <li class="fragment" data-fragment-index="5">Массивы (int[] array, String[] array, ...)</li>
                    <li class="fragment" data-fragment-index="6">Классы и интерфейсы (String, Date, Calendar, ...)</li>
                    <li class="fragment" data-fragment-index="7">Перечисления (Enum)</li>
                </ul>
            </div>
        </section>
        <section>
            <h2>Типы данных</h2>
            <ul>
                <li>byte &rarr; Byte</li>
                <li>short &rarr; Short</li>
                <li>int &rarr; Integer</li>
                <li>long &rarr; Long</li>
                <li>float &rarr; Float</li>
                <li>double &rarr; Double</li>
                <li>boolean &rarr; Boolean</li>
                <li>char &rarr; Character</li>
            </ul>
        </section>
        <section>
            <h2>Autoboxing</h2>
            <div class="half-left">
                <div class="fragment" data-fragment-index="1">
                    <h5>Inboxing</h5>
                    <p>Метод:</p>
                    <pre><code data-trim data-noescape>
                        public void inboxing(Integer value) {
                            System.out.println(value);
                        }
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="2">
                    <p>Вызов:</p>
                    <pre><code data-trim data-noescape>
                        boxing.inboxing(10);
                    </code></pre>
                </div>
            </div>
            <div class="half-right">
                <div class="fragment" data-fragment-index="3">
                    <h5>Unboxing</h5>
                    <p>Метод:</p>
                    <pre><code data-trim data-noescape>
                        public void unboxing(int value) {
                            System.out.println(value);
                        }
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="4">
                    <p>Вызов:</p>
                    <pre><code data-trim data-noescape>
                        boxing.unboxing(<mark>new Integer(25)</mark>);
                    </code></pre>
                </div>
            </div>
        </section>
        <section>
            <h2>Классы. Наследование</h2>
            <pre><code data-trim data-noescape>
                public class ChildClass <mark>extends</mark> ParentClass {
                    private String name = "example";

                    public String getName() {
                        return name;
                    }
                }
            </code></pre>
        </section>
        <section>
            <h2>Классы. Наследование. final.</h2>
            <pre><code data-trim data-noescape>
                public <span class="fragment highlight-red" data-fragment-index="1">final</span> class MyClass {
                    public <span class="fragment highlight-green" data-fragment-index="2">final</span> void getValue(<span
                    class="fragment highlight-blue" data-fragment-index="3">final</span> String val) {
                        <span class="fragment highlight-blue" data-fragment-index="3">final</span> int a = 10;
                    }
                }
            </code></pre>
            <p class="fragment" data-fragment-index="1">
                <span class="fragment highlight-red" data-fragment-index="1">
                    final класс
                </span>
                – нельзя наследоваться
            </p>
            <p class="fragment" data-fragment-index="2">
                <span class="fragment highlight-green" data-fragment-index="2">
                    final метод
                </span>
                – нельзя переопределять
            </p>
            <p class="fragment" data-fragment-index="3">
                <span class="fragment highlight-blue" data-fragment-index="3">
                    final переменная
                </span>
                – может быть инициализирована только один раз
            </p>
        </section>
        <section>
            <h2>Классы. Наследование. Object</h2>
            <pre><code data-trim data-noescape>
                package java.lang;

                public class Object {
                    public String toString();
                    public boolean equals(Object obj);
                    public int hashCode();
                    protected Object clone();
                    protected void finalize();
                    public final Class<?> getClass();
                    public final void notify();
                    public final void notifyAll();
                    public final void wait(long millis);
                }
            </code></pre>
        </section>
        <section>
            <h2>Классы. Наследование. Abstract.</h2>
            <pre><code data-trim data-noescape>
                public <s class="red">final</s> abstract class MyClass() {
                    <s class="red">private</s> public abstract int getValue();
                }
            </code></pre>
        </section>
        <section>
            <h2>Классы. Внутренние классы.</h2>
            <pre><code data-trim data-noescape>
                public class OuterClass {
                    private int value = 0;

                    class InnerClass {
                        public void incrementValue() {
                            value++;
                        }
                    }
                }
            </code></pre>
        </section>
        <section>
            <h2>Классы. Анонимные классы.</h2>
            <pre><code data-trim data-noescape>
                public class ClassA {
                    public void printString() {
                        System.out.println("String");
                    }
                }
            </code></pre>
            <div class="fragment" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    public class ClassB {
                        public static void main(String[] args) {
                            final ClassA classA = new ClassA() {

                                @Override
                                public void printString() {
                                    System.out.println("other string");
                                }
                            };
                            classA.printString(); // will print "other string"
                        }
                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Интерфейсы</h2>
            <pre><code data-trim data-noescape>
                public interface MyInterface {
                    int NAME_LENGTH = 20;

                    void getName();
                    void getEmail();
                }
            </code></pre>
        </section>
        <section>
            <h2>Интерфейсы. Реализация</h2>
            <pre><code data-trim data-noescape>
                public interface MyInterface1 {
                    void methodFromMyInterface1();
                }

                public interface MyInterface2 {
                    void methodFromMyInterface2();
                }

                public class MyClass <span class="fragment" data-fragment-index="1">implements MyInterface1</span><span class="fragment"
                                                                                                                        data-fragment-index="2">, MyInterface2</span> {
                <span class="fragment" data-fragment-index="1">
                    @Override
                    public void methodFromMyInterface1() {

                    }</span>
                <span class="fragment" data-fragment-index="2">
                    @Override
                    public void methodFromMyInterface2() {

                    }</span>
                }
            </code></pre>
        </section>
        <section>
            <h2>Интерфейсы. Наследование</h2>
            <div class="half-left">
                <div class="fragment" data-fragment-index="1">
                    <pre><code data-trim data-noescape>
                        public interface MyInterface1 {
                            void method1();
                        }
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="2">
                    <pre><code data-trim data-noescape>
                        public interface MyInterface2 {
                            void method2();
                        }
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="3">
                    <pre><code data-trim data-noescape>
                        public interface MyInterface3 extends MyInterface1,
                                MyInterface2 {
                            void method3();
                        }
                    </code></pre>
                </div>
            </div>
            <div class="half-right">
                <div class="fragment" data-fragment-index="4">
                    <pre><code data-trim data-noescape>
                        public class MyClass implements MyInterface3 {
                            @Override
                            public void method1() {

                            }

                            @Override
                            public void method2() {

                            }

                            @Override
                            public void method3() {

                            }
                        }
                    </code></pre>
                </div>
            </div>
        </section>
        <section>
            <h2>Enum</h2>
            <pre><code data-trim data-noescape>
                public enum UserRole {
                    ADMIN, USER, GUEST
                }
            </code></pre>
            <div class="fragment" data-fragment-index="1">
                <p>Использование:</p>
                <pre><code data-trim data-noescape>
                    UserRole role = UserRole.ADMIN;
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Enum</h2>
            <pre><code data-trim data-noescape>
                public enum UserRole {
                    ADMIN("adm"), USER("usr"), GUEST("gst");

                    private String shortName;

                    UserRole(final String shortName) {
                        this.shortName = shortName;
                    }

                    public String getShortName() {
                        return shortName;
                    }
                }
            </code></pre>
            <div class="fragment" data-fragment-index="1">
                <p>Использование:</p>
                <pre><code data-trim data-noescape>
                    UserRole role = UserRole.ADMIN;
                    role.getShortName(); // "adm"
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Аннотации</h2>
            <span>Аннотации – специальная форма синтаксических метаданных, которая может быть добавлена в исходный код.</span>
            <br/>
            <br/>
            <div class="half-left fragment" data-fragment-index="1">
                <span>Аннотации могут применяться к:</span>
                <ul>
                    <li>Классам</li>
                    <li>Методам</li>
                    <li>Полям</li>
                    <li>Конструкторам</li>
                    <li>Другим аннотациям</li>
                </ul>
            </div>
            <div class="half-right fragment" data-fragment-index="2">
                <span>Примеры:</span>
                <ul>
                    <li>@Override</li>
                    <li>@SuppressWarnings</li>
                    <li>@Deprecated</li>
                </ul>
            </div>
        </section>
        <section>
            <h2>Аннотации. Применение</h2>
            <div class="half-left">
                <div class="fragment" data-fragment-index="1">
                    <pre><code data-trim data-noescape>
                        public interface MyInterface {
                            void myMethod();
                        }
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="2">
                    <pre><code class="fragment" data-fragment-index="2" data-trim data-noescape>
                        public class MyClass implements MyInterface {
                            <mark>@Override</mark>
                            public void myMethod() {

                            }
                        }
                    </code></pre>
                </div>
            </div>
            <div class="half-right fragment" data-fragment-index="3">
                <pre><code data-trim data-noescape>
                    <mark>@SuppressWarnings("all")</mark>
                    public class MyClass {

                        public static void main(String[] args) {
                            MyClass myClass = new MyClass();
                            myClass.myMethod(<mark>new Integer(23)</mark>);
                            <mark>if (true)</mark> {

                            }
                        }

                        private void myMethod(int value) {

                        }
                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Аннотации. Создание</h2>
            <div class="fragment" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    @interface Security {
                        String id();
                        String userName() default "Unknown";
                        int count() default 1;
                    }
                </code></pre>
            </div>
            <div class="fragment">
                <span>Использование:</span>
                <pre><code data-trim data-noescape>
                    @Security(id = "uniqID", count = 10)
                    class MyClass {

                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Аннотации. Мета-аннотации. @Documented</h2>
            <div class="half-left">
                <div class="fragment" data-fragment-index="1">
                    <pre><code data-trim data-noescape>
                        @interface Secret {
                            ...
                        }
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="2">
                     <pre><code data-trim data-noescape>
                        <mark>@Documented</mark>
                        @interface @NotSecret {
                            ...
                        }
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="3">
                    <pre><code data-trim data-noescape>
                        @Secret
                        @NotSecret
                        class MyClass {

                        }
                    </code></pre>
                </div>
            </div>
            <iframe class="half-right fragment" data-fragment-index="4" width="50%" height="500" src="lecture/java/@documented_javadoc/index.html"></iframe>
        </section>
        <section>
            <h2>Аннотации. Мета-аннотации. @Inherited</h2>
            <div class="half-left">
                <div class="fragment" data-fragment-index="1">
                    <pre><code data-trim data-noescape>
                        @interface JustForMe {
                            ...
                        }
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="2">
                    <pre><code data-trim data-noescape>
                        <mark>@Inherited</mark>
                        @interface ForEveryone {
                            ...
                        }
                    </code></pre>
                </div>
            </div>
            <div class="half-right">
                <div class="fragment" data-fragment-index="3">
                    <pre><code data-trim data-noescape>
                        @ForEveryone
                        @JustForMe
                        class SuperClass {
                            ...
                        }
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="4">
                    <pre><code data-trim data-noescape>
                        // неявно аннотирован @ForEveryone, но не @JustForMe
                        public class SubClass extends SuperClass {
                            ...
                        }
                    </code></pre>
                </div>
            </div>
        </section>
        <section>
            <h2>Аннотации. Мета-аннотации. @Retention</h2>
            <div class="half-left fragment" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    <mark>@Retention(RetentionPolicy.SOURCE)</mark>
                    @interface Security {
                        ...
                    }
                </code></pre>
            </div>
            <div class="half-right">
                <p class="fragment" data-fragment-index="2">Варианты:</p>
                <ul>
                    <li class="fragment" data-fragment-index="2">RetentionPolicy.SOURCE</li>
                    <li class="fragment" data-fragment-index="3">RetentionPolicy.CLASS</li>
                    <li class="fragment" data-fragment-index="4">RetentionPolicy.RUNTIME</li>
                </ul>
            </div>
        </section>
        <section>
            <h2>Аннотации. Мета-аннотации. @Target</h2>
            <div class="half-left fragment" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    <mark>@Target(ElementType.TYPE)</mark>
                    @interface Security {
                        ...
                    }
                </code></pre>
            </div>
            <div class="half-right">
                <p class="fragment" data-fragment-index="2">Варианты:</p>
                <ul>
                    <li class="fragment" data-fragment-index="2">ElementType.TYPE</li>
                    <li class="fragment" data-fragment-index="3">ElementType.FIELD</li>
                    <li class="fragment" data-fragment-index="4">ElementType.METHOD</li>
                    <li class="fragment" data-fragment-index="5">ElementType.PARAMETER</li>
                    <li class="fragment" data-fragment-index="6">ElementType.CONSTRUCTOR</li>
                    <li class="fragment" data-fragment-index="7">ElementType.LOCAL_VARIABLE</li>
                    <li class="fragment" data-fragment-index="8">ElementType.ANNOTATION_TYPE</li>
                    <li class="fragment" data-fragment-index="9">ElementType.PACKAGE</li>
                    <li class="fragment" data-fragment-index="10">ElementType.TYPE_PARAMETER</li>
                    <li class="fragment" data-fragment-index="11">ElementType.TYPE_USE</li>
                </ul>
            </div>
        </section>
        <section>
            <h2>Аннотации. Мета-аннотации. @Repeatable</h2>
            <div class="half-left">
                <div class="fragment" data-fragment-index="1">
                    <pre><code data-trim data-noescape>
                        <mark>@Repeatable(Securities.class)</mark>
                        @interface Security {
                            String id();
                            String userName() default "Unknown";
                            int count() default 1;
                        }
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="2">
                    <pre><code data-trim data-noescape>
                        @interface Securities {
                            Security[] value();
                        }
                    </code></pre>
                </div>
            </div>
            <div class="fragment half-right" data-fragment-index="3">
                <pre><code data-trim data-noescape>
                    @Securities(value = {
                            @Security(id = "id1", count = 2),
                            @Security(id = "id2", userName = "admin")
                    })
                    class MyClass {

                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Аннотации. Мета-аннотации. Итого</h2>
            <pre><code data-trim data-noescape>
                @Documented
                @Inherited
                @Target(ElementType.TYPE)
                @Retention(RetentionPolicy.CLASS)
                @Repeatable(Securities.class)
                @interface Security {
                    String id();
                    String userName() default "Unknown";
                    int count() default 1;
                }
            </code></pre>
        </section>
        <section>
            <h2>Исключения</h2>
            <span class="fragment" data-fragment-index="1">
                Исключение (Exception) – событие, нарушающее нормальное выполнение программы. В Java любое исключение – объект.
            </span>
            <p class="fragment" data-fragment-index="2">Примеры:</p>
            <ul>
                <li class="fragment" data-fragment-index="2">FileNotFoundException</li>
                <li class="fragment" data-fragment-index="3">IllegalArgumentException</li>
                <li class="fragment" data-fragment-index="4">NullPointerException</li>
            </ul>
        </section>
        <section>
            <h2>Исключения. Иерархия</h2>
            <div class="center center-horizontal">
                <img class="center center-horizontal" src="lecture/java/exception_diagram.png"/>
            </div>
        </section>
        <section>
            <h2>Исключения. try-catch-finally</h2>
            <div class="fragment half-left" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    public void myMethod() {
                        <mark>try</mark> {
                            FileReader fileReader = new FileReader(...);
                        } <mark>catch</mark> (FileNotFoundException e) {
                            // handle exception
                        } <mark>finally</mark> {
                            // do something
                        }
                    }
                </code></pre>
            </div>
            <div class="fragment half-right" data-fragment-index="2">
                <p>Multicatch</p>
                <pre><code data-trim data-noescape>
                    ...
                    } catch (FirstException | SecondException e) {
                        // handle any of the two exceptions
                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Исключения. Catch or throw</h2>
            <div class="fragment" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    public void myMethod() {
                        try {
                            FileReader fileReader = new FileReader(...);
                        } catch (FileNotFoundException e) {
                            // handle exception
                        }
                    }
                </code></pre>
            </div>
            <div class="fragment" data-fragment-index="2">
                <p>Либо</p>
                <pre><code data-trim data-noescape>
                    public void myMethod() <mark>throws</mark> FileNotFoundException {
                        FileReader fileReader = new FileReader(...);
                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Исключения. Создание собственного исключения</h2>
            <div class="fragment" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    public class MyException <mark>extends</mark> Exception {

                    }
                </code></pre>
            </div>
            <div class="fragment" data-fragment-index="2">
                <pre><code data-trim data-noescape>
                    public class MyClass {

                        public void myMethod() throws MyException {
                            ...
                            throw new MyException();
                        }
                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Java IO</h2>
            <span>Поток (stream) – это некоторая абстракция, представляющая последовательность данных.</span>
            <ul>
                <li class="fragment" data-fragment-index="1">Input stream – для чтения данных</li>
                <li class="fragment" data-fragment-index="2">Output stream – для записи данных</li>
            </ul>
            <p class="fragment" data-fragment-index="3">Типы потоков:</p>
            <ul>
                <li class="fragment" data-fragment-index="3">Байтовые потоки
                    <ul>
                        <li class="fragment" data-fragment-index="3">InputStream</li>
                        <li class="fragment" data-fragment-index="4">OutputStream</li>
                    </ul>
                </li>
                <li class="fragment" data-fragment-index="5">Символьные потоки
                    <ul>
                        <li class="fragment" data-fragment-index="5">Reader</li>
                        <li class="fragment" data-fragment-index="6">Writer</li>
                    </ul>
                </li>
            </ul>
        </section>
        <section>
            <h2>Java IO. Пример чтения/записи</h2>
            <div class="half-left">
                <pre><code class="small" data-trim data-noescape>
                    public void processFile() {
                        <span class="fragment highlight-red" data-fragment-index="1">FileInputStream in = null;</span>
                        <span class="fragment highlight-red" data-fragment-index="1">FileOutputStream out = null;</span>
                        try {
                            String fileName = "fileName.txt";
                            <span class="fragment highlight-blue" data-fragment-index="2">in = new FileInputStream(fileName);</span>
                            <span class="fragment highlight-blue" data-fragment-index="2">out = new FileOutputStream(fileName);</span>
                            int byteOfData;
                            <span class="fragment highlight-blue" data-fragment-index="3">while ((byteOfData = in.read()) != 1) {</span>
                                <span class="fragment highlight-blue" data-fragment-index="3">out.write(byteOfData);</span>
                            <span class="fragment highlight-blue" data-fragment-index="3">}</span>
                        } catch (IOException e) {
                            // handle exception
                        } finally {
                            try {
                                <span class="fragment highlight-blue" data-fragment-index="4">if (in != null) {</span>
                                    <span class="fragment highlight-blue" data-fragment-index="4">in.close();</span>
                                <span class="fragment highlight-blue" data-fragment-index="4">}</span>
                                <span class="fragment highlight-blue" data-fragment-index="4">if (out != null) {</span>
                                    <span class="fragment highlight-blue" data-fragment-index="4">out.close();</span>
                                <span class="fragment highlight-blue" data-fragment-index="4">}</span>
                            } <span class="fragment highlight-red" data-fragment-index="5">catch (IOException e)</span> {
                                // handle exception
                            }
                        }
                    }
                </code></pre>
            </div>
            <div class="half-right fragment" data-fragment-index="6">
                <p>try-with-resources</p>
                <pre><code class="small" data-trim data-noescape>
                    public void processFile() {
                        String fileName = "fileName.txt";
                        <span class="fragment highlight-red" data-fragment-index="7">try (FileInputStream in = new FileInputStream(fileName);</span>
                            <span class="fragment highlight-red"
                                  data-fragment-index="7">FileOutputStream out = new FileOutputStream(fileName)) {</span>
                            int byteOfData;
                            while ((byteOfData = in.read()) != 1) {
                                out.write(byteOfData);
                            }
                        } catch (IOException e) {
                            // handle exception
                        }
                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Java IO. Буферизация</h2>
            <div class="fragment" data-fragment-index="1">
                <span><b>Байтовые потоки</b></span>
                <pre><code data-trim data-noescape>
                    FileInputStream <mark class="bg-red">fis</mark> = new FileInputStream(...);
                    FileOutputStream <mark class="bg-blue">fos</mark> = new FileOutputStream(...);
                    BufferedInputStream bis = new BufferedInputStream(<mark class="bg-red">fis</mark>);
                    BufferedOutputStream bos = new BufferedOutputStream(<mark class="bg-blue">fos</mark>);
                </code></pre>
            </div>
            <div class="fragment" data-fragment-index="2">
                <span><b>Символьные потоки</b></span>
                <pre><code data-trim data-noescape>
                    FileReader <mark class="bg-red">fr</mark> = new FileReader(...);
                    FileWriter <mark class="bg-blue">fw</mark> = new FileWriter(...);
                    BufferedReader br = new BufferedReader(<mark class="bg-red">fr</mark>);
                    BufferedWriter bw = new BufferedWriter(<mark class="bg-blue">fw</mark>);
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Java IO</h2>
            <div class="half-left">
                <b class="fragment" data-fragment-index="1">Data streams:</b>
                <ul>
                    <li class="fragment" data-fragment-index="1">DataInputStream
                        <ul>
                            <li>readByte</li>
                            <li>readChar</li>
                            <li>readInt</li>
                            <li>...</li>
                        </ul>
                    </li>
                    <li class="fragment" data-fragment-index="2">DataOutputStream
                        <ul>
                            <li>writeByte</li>
                            <li>writeChar</li>
                            <li>...</li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="half-right fragment" data-fragment-index="3">
                <b>Object streams:</b>
                <ul>
                    <li>ObjectInputStream
                        <ul>
                            <li>readObject</li>
                            <li>...</li>
                        </ul>
                    </li>
                    <li class="fragment" data-fragment-index="4">ObjectOutputStream
                        <ul>
                            <li>writeObject</li>
                            <li>...</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
        <section>
            <h2>Java IO. Сериализация</h2>
            <div class="half-left fragment" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    public class MyClass <mark>implements</mark> Serializable {

                        private int age;
                        private String login;
                        private <mark>transient</mark> String password;
                    }
                </code></pre>
            </div>
            <div class="half-right fragment" data-fragment-index="2">
                <pre><code data-trim data-noescape>
                    public class MyClass implements Serializable {

                        private void writeObject(ObjectOutputStream stream) {
                            stream.writeObject(this);
                        }

                        private MyClass readObject(ObjectInputStream stream) {
                            return (MyClass) stream.readObject();
                        }
                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Generics</h2>
            <span>
                <b>Обобщения (Generics)</b> – механизм, позволяющий параметризировать классы, интерфейсы и отдельные методы с целью улучшить
                возможности по проверке типов на стадии компиляции.
            </span>
            <div class="half-left fragment" data-fragment-index="1">
                <p>Пример:</p>
                <pre><code data-trim data-noescape>
                    public class Box<mark>&lt;T&gt;</mark> {

                        private <mark>T</mark> value;

                        public <mark>T</mark> getValue() {
                            return value;
                        }

                        public void setValue(<mark>T</mark> value) {
                            this.value = value;
                        }
                    }
                </code></pre>
            </div>
            <div class="half-right fragment" data-fragment-index="2">
                <p>Использование:</p>
                <pre><code data-trim data-noescape>
                    Box&lt;String&gt; stringBox = new Box&lt;String&gt;();
                    stringBox.setValue("String value");
                    <span class="fragment" data-fragment-index="3">Box&lt;Integer&gt; intBox = new Box&lt;Integer&gt;();</span>
                    <span class="fragment" data-fragment-index="3">intBox.setValue(123);</span>
                    <span class="fragment" data-fragment-index="4"><span class="fragment highlight-red" data-fragment-index="4">intBox.setValue("String"); // error</span></span>
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Generics. Ограничения типов</h2>
            <pre><code data-trim data-noescape>
                public class Box&lt;T <mark>extends</mark> Number&gt; {

                    private T value;

                    public T getValue() {
                        return value;
                    }

                    public void setValue(T value) {
                        this.value = value;
                    }
                }
            </code></pre>
            <div class="fragment" data-fragment-index="1">
                <p>Использование:</p>
                <pre><code data-trim data-noescape>
                    Box&lt;Integer&gt; intBox = new Box&lt;Integer&gt;(); // ok
                    <span class="fragment highlight-red"
                          data-fragment-index="2">Box&lt;String&gt; stringBox = new Box&lt;String&gt;(); // error</span>
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Generics. Параметризированные методы</h2>
            <div class="fragment" data-fragment-index="1">
                <span>Пример:</span>
                <pre><code data-trim data-noescape>
                    public class MyClass {
                        public &lt;T extends Number&gt; void calc(T value) {
                            ...
                        }
                    }
                </code></pre>
            </div>
            <div class="fragment" data-fragment-index="2">
                <p>Использование:</p>
                <pre><code data-trim data-noescape>
                    MyClass myClass = new MyClass();
                    myClass.calc(25);
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Generics. Наследование</h2>
            <div class="fragment half-left" data-fragment-index="1">
                <div class="center center-horizontal">
                    <img class="center-horizontal" src="lecture/java/generics-subtypeRelationship.gif">
                </div>
            </div>
            <div class="fragment half-right" data-fragment-index="2">
                <p>Пример:</p>
                <pre><code data-trim data-noescape>
                    public void consumeBox(Box&lt;Number&gt; numberBox) {
                        // do something
                    }
                </code></pre>
                <div class="fragment" data-fragment-index="3">
                    <p>Использование:</p>
                    <pre><code data-trim data-noescape>
                        consumeBox(new Box&lt;Number&gt;()); // ok
                        <span class="fragment highlight-red" data-fragment-index="4">consumeBox(new Box&lt;Integer&gt;()); // error</span>
                    </code></pre>
                </div>
            </div>
        </section>
        <section>
            <h2>Generics. Wildcards</h2>
            <div class="fragment" data-fragment-index="1">
                <span>Пример:</span>
                <pre><code data-trim data-noescape>
                    public void consumeBox(Box<mark>&lt;?&gt;</mark> anyBox) {
                        // do something
                    }
                </code></pre>
                <div class="fragment" data-fragment-index="2">
                    <p>Использование:</p>
                    <pre><code data-trim data-noescape>
                        consumeBox(new Box&lt;Object&gt;()); // ok
                        consumeBox(new Box&lt;Integer&gt;()); // ok
                    </code></pre>
                </div>
            </div>
        </section>
        <section>
            <h2>Generics. Wildcards. Ограничения</h2>
            <div class="fragment half-left" data-fragment-index="1">
                <span>Пример extends:</span>
                <pre><code data-trim data-noescape>
                    public void consumeBox(Box<mark>&lt;? extends Number&gt;</mark> box) {
                        // можно использовать методы Number
                        box.getValue().intValue();
                    }
                </code></pre>
                <div class="fragment" data-fragment-index="2">
                    <p>Использование:</p>
                    <pre><code data-trim data-noescape>
                         // ок, "Integer" – наследник "Number"
                        consumeBox(new Box&lt;Integer&gt;());
                        <span class="fragment" data-fragment-index="3">// ок, "Double" – наследник "Number"
                        consumeBox(new Box&lt;Double&gt;());</span>
                        <span class="fragment" data-fragment-index="4"> // тоже ок
                        consumeBox(new Box&lt;Number&gt;());</span>
                        <span class="fragment" data-fragment-index="5"><span class="fragment highlight-red" data-fragment-index="6">// ошибка
                        consumeBox(new Box&lt;Object&gt;());</span></span>
                    </code></pre>
                </div>
            </div>
            <div class="fragment half-right" data-fragment-index="7">
                <span>Пример super:</span>
                <pre><code data-trim data-noescape>
                    public void consumeBox(Box<mark>&lt;? super Integer&gt;</mark> box) {
                        // do something
                        ...
                    }
                </code></pre>
                <div class="fragment" data-fragment-index="8">
                    <p>Использование:</p>
                    <pre><code data-trim data-noescape>
                        // ок, "Number" – родитель Integer
                        consumeBox(new Box&lt;Number&gt;());
                        <span class="fragment" data-fragment-index="9">// ок, "Object" – родитель Integer
                        consumeBox(new Box&lt;Object&gt;());</span>
                        <span class="fragment" data-fragment-index="10">// тоже ок
                        consumeBox(new Box&lt;Integer&gt;());</span>
                        <span class="fragment" data-fragment-index="11"><span class="fragment highlight-red" data-fragment-index="12">// ошибка
                        consumeBox(new Box&lt;Double&gt;());</span></span>
                    </code></pre>
                </div>
            </div>
        </section>
        <section>
            <h2>Коллекции. Списки</h2>
            <div class="half-left">
                <div class="center center-horizontal">
                    <img src="lecture/java/colls-coreInterfaces.gif">
                </div>
                <div class="fragment" data-fragment-index="1">
                    <span><b>Список (List)</b> –упорядоченная последовательность, которая <b>может содержать повторы.</b> Дополняет интерфейс Collection
                    операциями, характерными для линейной структуры (поиск индекса, обращение к элементу по индексу, получение подсписка).</span>
                </div>
            </div>
            <div class="half-right fragment" data-fragment-index="2">
                <span>Реализации списков:</span>
                <ul>
                    <li><b>LinkedList&lt;E&gt;</b> – на основе двусвязного списка, нужно применять, когда есть много операций вставки / удаления в
                        середину списка.
                    </li>
                    <li class="fragment" data-fragment-index="3"><b>ArrayList&lt;E&gt;</b> – на основе массива, эффективен при частом обращении к
                        элементам с произвольным списком. Используется в 90% случаях.
                    </li>
                </ul>
            </div>
        </section>
        <section>
            <h2>Коллекции. Множества и очереди</h2>
            <div class="fragment half-left" data-fragment-index="1">
                <span><b>Множество (Set)</b> – набор неповторяющихся элементов.</span>
                <ul>
                    <li class="fragment" data-fragment-index="2"><b>HashSet&lt;E&gt;</b> – множество на основе hash-таблицы.</li>
                    <li class="fragment" data-fragment-index="3"><b>LinkedHashSet&lt;E&gt;</b> – множество на основе hash-таблицы и двусвязного
                        списка.
                    </li>
                    <li class="fragment" data-fragment-index="4"><b>TreeSet&lt;E&gt;</b> – множество на основе красно-черного дерева (использует <b>Comparable</b>
                        или <b>Comparator</b>).
                    </li>
                </ul>
            </div>
            <div class="fragment half-right" data-fragment-index="5">
                <span><b>Очередь (Queue)</b> – структура данных, работающая по принципу «первый пришёл — первый вышел» (FIFO, First In — First Out).</span>
                <ul>
                    <li class="fragment" data-fragment-index="6"><b>Queue&lt;E&gt;</b> – интерфейс однонаправленной очереди.</li>
                    <li class="fragment" data-fragment-index="7"><b>Deque&lt;E&gt;</b> – интерфейс двунаправленной очереди. Является наследником
                        Queue&lt;E&gt;. <b>LinkedList&lt;E&gt;</b> – одна из реализаций Deque&lt;E&gt;.
                    </li>
                </ul>
                <p class="fragment" data-fragment-index="8">Характерные операции:</p>
                <ul>
                    <li class="fragment" data-fragment-index="9">offer</li>
                    <li class="fragment" data-fragment-index="10">poll</li>
                    <li class="fragment" data-fragment-index="11">peek</li>
                </ul>
            </div>
        </section>
        <section>
            <h2>Коллекции. Словари</h2>
            <span><b>Словарь (Map)</b> – множество пар ключ-значение.</span>
            <ul>
                <li class="fragment" data-fragment-index="1"><b>HashMap&lt;K,V&gt;</b> – основана на Hash-таблице, не может содержать null
                    в качестве ключей или значений. Используется в 90% случаях.
                </li>
                <li class="fragment" data-fragment-index="2"><b>TreeMap&lt;K,V&gt;</b> – основана на красно-черном дереве. Log(n) трудоемкость.</li>
                <li class="fragment" data-fragment-index="3"><b>Hashtable&lt;K,V&gt;</b> – устаревшая реализация, использовать <b>не надо</b>.</li>
            </ul>
        </section>
        <section>
            <h2>Iterator</h2>
            <span><b>Iterator</b> – объект, который позволяет последовательно проходить элементы коллекции.</span>
            <div class="fragment half-left" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    List&lt;String&gt; list = new ArrayList&lt;&gt;();
                    list.add("first");
                    list.add("second");
                </code></pre>
            </div>
            <div class="fragment half-right" data-fragment-index="2">
                <pre><code data-trim data-noescape>
                    Iterator&lt;String&gt; iterator = list.iterator();
                    while (iterator.hasNext()) {
                        String next = iterator.next();
                        System.out.println(next);
                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Collections</h2>
            <span><b>Collections</b> – класс, содержащий набор вспомогательных статических методов.</span>
            <div class="fragment half-left" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
                    // создаем список 3, 2, 1
                    list.add(3);
                    list.add(2);
                    list.add(1);
                </code></pre>
            </div>
            <div class="fragment half-right" data-fragment-index="2">
                <pre><code data-trim data-noescape>
                    <span class="fragment" data-fragment-index="2">Collections.sort(list); // 1, 2, 3</span>
                    <span class="fragment" data-fragment-index="3">Collections.swap(list, 1, 2); // 1, 3, 2</span>
                    <span class="fragment" data-fragment-index="4">Collections.reverse(list); // 2, 3, 1</span>
                    <span class="fragment" data-fragment-index="5">Collections.fill(list, 0); // 0, 0, 0</span>
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Потоки. Как запустить код в другом потоке</h2>
            <div class="fragment half-left" data-fragment-index="1">
                <span>С помощью интерфейса Runnable:</span>
                <pre><code data-trim data-noescape>
                    public class MyRunnable <span class="fragment highlight-green" data-fragment-index="2">implements Runnable</span> {

                        @Override
                        public void <span class="fragment highlight-green" data-fragment-index="2">run()</span> {
                            System.out.println("Hello Thread");
                        }
                    }
                </code></pre>
                <div class="fragment" data-fragment-index="3">
                    <span>Использование:</span>
                    <pre><code data-trim data-noescape>
                        <span class="fragment highlight-green" data-fragment-index="4">Thread</span> thread = new Thread(new MyRunnable());
                        thread.<span class="fragment highlight-green" data-fragment-index="4">start()</span>; <span class="fragment"
                                                                                                                    data-fragment-index="4">// напечатает "Hello Thread" в новом потоке</span>
                    </code></pre>
                </div>
            </div>
            <div class="fragment half-right" data-fragment-index="5">
                <span>С помощью класса Thread:</span>
                <pre><code data-trim data-noescape>
                    public class MyThread <span class="fragment highlight-green" data-fragment-index="6">extends Thread</span> {

                        @Override
                        public void <span class="fragment highlight-green" data-fragment-index="6">run()</span> {
                            System.out.println("Hello Thread");
                        }
                    }
                </code></pre>
                <div class="fragment" data-fragment-index="7">
                    <span>Использование:</span>
                    <pre><code data-trim data-noescape>
                        <span class="fragment highlight-green" data-fragment-index="8">Thread</span> thread = new MyThread();
                        thread.<span class="fragment highlight-green" data-fragment-index="8">start()</span>; <span class="fragment"
                                                                                                                    data-fragment-index="8">// напечатает "Hello Thread" в новом потоке</span>
                    </code></pre>
                </div>
            </div>
        </section>
        <section>
            <h2>Потоки. Sleep & interrupt</h2>
            <div class="fragment half-left" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    public class MyRunnable implements Runnable {

                        @Override
                        public void run() {
                            try {
                                for (int i = 0; i < 10; i++) {
                                    <span class="fragment highlight-green" data-fragment-index="2">Thread.sleep(2000);</span> // 2 секунды
                                    System.out.println("Hello Thread");
                                }
                            } catch (<span class="fragment highlight-green" data-fragment-index="2">InterruptedException</span> e) {
                                System.out.println("Interrupted");
                            }
                        }
                    }
                </code></pre>
            </div>
            <div class="fragment half-right" data-fragment-index="3">
                <span>Использование:</span>
                <pre><code data-trim data-noescape>
                    Thread thread = new Thread(new MyRunnable());
                    thread.start();
                    <span class="fragment highlight-green" data-fragment-index="4">thread.interrupt();</span>
                    <span class="fragment" data-fragment-index="4">// Поток напечатает "Interrupted" и завершит работу</span>
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Потоки</h2>
            <div class="fragment half-left" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    public class MyRunnable implements Runnable {

                        @Override
                        public void run() {
                            System.out.println("Hello "
                                + Thread.currentThread().getName());
                            System.out.println("Hello "
                                + Thread.currentThread().getName());
                        }
                    }
                </code></pre>
                <div class="fragment" data-fragment-index="2">
                    <span>Выполнение двух потоков:</span>
                    <pre><code data-trim data-noescape>
                        Thread thread = new Thread(new MyRunnable());
                        thread.start();
                        <span class="fragment" data-fragment-index="3">Thread otherThread = new Thread(new MyRunnable());
                        otherThread.start();</span>
                    </code></pre>
                </div>
            </div>
            <div class="fragment half-right" data-fragment-index="4">
                <span>Возможные варианты вывода в консоль:</span>
                <div class="fragment" data-fragment-index="5">
                    <pre><code data-trim data-noescape>
                        // Hello Thread-1
                        // Hello Thread-1
                        // Hello Thread-0
                        // Hello Thread-0
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="6">
                    <pre><code data-trim data-noescape>
                        // Hello Thread-0
                        // Hello Thread-1
                        // Hello Thread-0
                        // Hello Thread-1
                    </code></pre>
                </div>
                <div class="fragment" data-fragment-index="7">
                    <pre><code data-trim data-noescape>
                        // Hello Thread-0
                        // Hello Thread-1
                        // Hello Thread-1
                        // Hello Thread-0
                    </code></pre>
                </div>
                <span class="fragment" data-fragment-index="8">И так далее ...</span>
            </div>
        </section>
        <section>
            <h2>Потоки. Join</h2>
            <div class="fragment half-left" data-fragment-index="1">
                <pre><code data-trim data-noescape>
                    public class MyRunnable implements Runnable {

                        @Override
                        public void run() {
                            System.out.println("Hello "
                                + Thread.currentThread().getName());
                            System.out.println("Hello "
                                + Thread.currentThread().getName());
                        }
                    }
                </code></pre>
            </div>
            <div class="fragment half-right" data-fragment-index="2">
                <span>Выполнение двух потоков с join:</span>
                <pre><code data-trim data-noescape>
                    Thread thread = new Thread(new MyRunnable());
                    thread.start();

                    try {
                        <span class="fragment highlight-green" data-fragment-index="3">thread.join();</span> <span class="fragment"
                                                                                                                   data-fragment-index="3">// ждет окончания работы thread</span>
                    } catch (InterruptedException e) {
                        System.out.println("Thread interrupted");
                    }

                    Thread otherThread = new Thread(new MyRunnable());
                    otherThread.start();
                </code></pre>
                <div class="fragment" data-fragment-index="4">
                    <span>Вывод в консоль:</span>
                    <pre><code data-trim data-noescape>
                        // Hello Thread-0
                        // Hello Thread-0
                        // Hello Thread-1
                        // Hello Thread-1
                    </code></pre>
                </div>
            </div>
        </section>
        <section>
            <h2>Потоки. Синхронизация</h2>
            <div class="fragment third-left" data-fragment-index="1">
                <pre><code class="small" data-trim data-noescape>
                    public class Counter {

                        private int counter = 0;

                        public void decrement() {
                            counter--;
                            printCounter();
                        }

                        public void increment() {
                            counter++;
                            printCounter();
                        }

                        private void printCounter() {
                            String string = String.format("%d %s", counter,
                                    Thread.currentThread().getName());
                            System.out.println(string);
                        }
                    }
                </code></pre>
            </div>
            <div class="fragment third-center" data-fragment-index="2">
                <pre><code class="small" data-trim data-noescape>
                    public class MyRunnable implements Runnable {

                        private Counter counter;

                        public MyRunnable(Counter counter) {
                            this.counter = counter;
                        }

                        @Override
                        public void run() {
                            <span class="fragment highlight-green" data-fragment-index="3">counter.increment();</span>
                            <span class="fragment highlight-green" data-fragment-index="3">counter.decrement();</span>
                        }
                    }
                </code></pre>
            </div>
            <div class="fragment third-right" data-fragment-index="4">
                <pre><code class="small" data-trim data-noescape>
                    Counter counter = new Counter();
                    Thread thread = new Thread(new MyRunnable(counter));
                    thread.start();
                    Thread otherThread = new Thread(new MyRunnable(counter));
                    otherThread.start();
                </code></pre>
                <div class="fragment" data-fragment-index="5">
                    <span>Варианты вывода в консоль:</span>
                    <div class="fragment" data-fragment-index="6">
                        <pre><code class="small" data-trim data-noescape>
                            // 1 Thread-0
                            // 2 Thread-1
                            // 1 Thread-0
                            // 0 Thread-1
                        </code></pre>
                    </div>
                    <div class="fragment" data-fragment-index="7">
                        <pre><code class="small" data-trim data-noescape>
                            // 1 Thread-1
                            // 1 Thread-0
                            // 0 Thread-0
                            // -1 Thread-1
                        </code></pre>
                    </div>
                    <div class="fragment" data-fragment-index="8">
                        <pre><code class="small" data-trim data-noescape>
                            // 1 Thread-0
                            // 2 Thread-1
                            // 1 Thread-0
                            // 1 Thread-1
                        </code></pre>
                    </div>
                </div>
            </div>
        </section>
        <section>
            <h2>Потоки. Синхронизация</h2>
            <div class="fragment third-left" data-fragment-index="1">
                <pre><code class="small" data-trim data-noescape>
                    public class Counter {

                        private int counter = 0;

                        public <span class="fragment highlight-green" data-fragment-index="1">synchronized</span> void decrement() {
                            counter--;
                            printCounter();
                        }

                        public void increment() {
                            <span class="fragment highlight-green" data-fragment-index="1">synchronized (this) {</span>
                                counter++;
                                printCounter();
                            }
                        }

                        private void printCounter() {
                            String string = String.format("%d %s", counter,
                                    Thread.currentThread().getName());
                            System.out.println(string);
                        }
                    }
                </code></pre>
            </div>
            <div class="fragment third-center" data-fragment-index="2">
                <pre><code class="small" data-trim data-noescape>
                    public class MyRunnable implements Runnable {

                        private Counter counter;

                        public MyRunnable(Counter counter) {
                            this.counter = counter;
                        }

                        @Override
                        public void run() {
                            <span class="fragment highlight-green" data-fragment-index="3">counter.increment();</span>
                            <span class="fragment highlight-green" data-fragment-index="3">counter.decrement();</span>
                        }
                    }
                </code></pre>
            </div>
            <div class="fragment third-right" data-fragment-index="4">
                <pre><code class="small" data-trim data-noescape>
                    Counter counter = new Counter();
                    Thread thread = new Thread(new MyRunnable(counter));
                    thread.start();
                    Thread otherThread = new Thread(new MyRunnable(counter));
                    otherThread.start();
                </code></pre>
                <div class="fragment" data-fragment-index="5">
                    <span>Варианты вывода в консоль:</span>
                    <div class="fragment" data-fragment-index="6">
                        <pre><code class="small" data-trim data-noescape>
                            // 1 Thread-0
                            // 2 Thread-1
                            // 1 Thread-1
                            // 0 Thread-0
                        </code></pre>
                    </div>
                    <div class="fragment" data-fragment-index="7">
                        <pre><code class="small" data-trim data-noescape>
                            // 1 Thread-1
                            // 2 Thread-0
                            // 1 Thread-0
                            // 0 Thread-1
                        </code></pre>
                    </div>
                    <div class="fragment" data-fragment-index="8">
                        <pre><code class="small" data-trim data-noescape>
                            // 1 Thread-1
                            // 0 Thread-1
                            // 1 Thread-0
                            // 0 Thread-0
                        </code></pre>
                    </div>
                </div>
            </div>
        </section>
        <section>
            <h2>Потоки. wait, notify, notifyAll</h2>
            <div class="fragment half-left" data-fragment-index="1">
                <pre><code class="small" data-trim data-noescape>
                    public class Box {

                        private boolean empty = true;
                        private String message = "message";

                        public synchronized String get() {
                            // ждем когда можно будет отправить сообщение
                            while (empty) {
                                try {
                                    <span class="fragment highlight-green" data-fragment-index="2">wait();</span>
                                } catch (InterruptedException e) {}
                            }
                            // изменяем статус
                            empty = true;
                            // уведомлляем об изменении статуса
                            <span class="fragment highlight-green" data-fragment-index="2">notifyAll();</span>
                            // возвращаем сообщение
                            return message;
                        }
                    }
                </code></pre>
            </div>
            <div class="fragment half-right" data-fragment-index="3">
                <pre><code class="small" data-trim data-noescape>
                    public class Box {

                        private boolean empty = true;
                        private String message = "message";

                        public synchronized String get() {
                            ...
                        }

                        public synchronized void put(String message) {
                            // ждем когда можно будет записать сообщение
                            while (!empty) {
                                try {
                                    <span class="fragment highlight-green" data-fragment-index="4">wait();</span>
                                } catch (InterruptedException e) {}
                            }
                            // изменяем статус
                            empty = false;
                            // записываем сообщение
                            this.message = message;
                            // уведомляем об изменении статуса
                            <span class="fragment highlight-green" data-fragment-index="4">notifyAll();</span>
                        }
                    }
                </code></pre>
            </div>
        </section>
        <section>
            <h2>Потоки. java.util.concurrent</h2>
            <ul>
                <li class="fragment" data-fragment-index="1">Lock objects</li>
                <li class="fragment" data-fragment-index="2">Executors</li>
                <li class="fragment" data-fragment-index="3">Concurrent collections</li>
                <li class="fragment" data-fragment-index="4">Atomic variables</li>
            </ul>
        </section>
        <section>
            <h2>Материалы</h2>
            <ul>
                <li><a href="https://docs.oracle.com/javase/tutorial/" target="_blank">The Java Tutorials by Oracle</a></li>
                <li><a href="https://docs.oracle.com/javase/specs/" target="_blank">Java Language Specifications</a></li>
                <li>"Just Java" by Peter van der Linden</li>
                <li>"Thinking in Java" by Bruce Eckel</li>
            </ul>
        </section>
    </div>
</div>

<script src="lib/js/head.min.js"></script>      <!--HeadJS functions-->
<script src="js/reveal.js"></script>            <!--RevealJS functions-->
<script src="js/config.js"></script>            <!--RevealJS config-->

<script src="lib/js/jquery-3.2.1.min.js"></script>
<script src="js/printpdf.js"></script>
</body>
</html>
